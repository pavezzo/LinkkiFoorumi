{% macro comment_form(post_id, link_id, parent) %}
    {% if parent %}
        <button class="btn btn-outline-secondary" onclick="showCommentForm(this)" target_id={{ parent }}>Reply</button>
        <form style="display: none;" action="/newcomment" method="post" id={{ parent }}>
            <textarea name="comment"></textarea>
            <input type="hidden" name="post_id" value={{ post_id }}>
            <input type="hidden" name="link_id" value={{ link_id }}>
            <input type="hidden" name="parent" value={{ parent }}><br>
        <button class="btn btn-outline-secondary">Submit</button>
        </form>
    {% else %}
        <button class="btn btn-outline-secondary" onclick="showCommentForm(this)" target_id="OP">Reply</button>
        <form style="display: none;" action="/newcomment" method="post" id="OP">
            <textarea name="comment"></textarea>
            <input type="hidden" name="post_id" value={{ post_id }}>
            <input type="hidden" name="link_id" value={{ link_id }}>
            <input type="hidden" name="parent" value={{ comment_id }}><br>
            <button class="btn btn-outline-secondary">Submit</button>
        </form>
    {% endif %}
{% endmacro %}
