{% from "macros.html" import link, post, like %}
{% extends "layout.html" %}
{% block content %}
<h1>{{ sub_name }}</h1>
<p>{{ introduction }}</p>
{% if not subbed %}
<form action="/newsubscription" method="post">
{% else %}
<form action="/unsubscribe" method="post">
{% endif %}
    <input type="hidden" name="subforum_id" value={{ subforum_id }}>
    <input type="hidden" name="subforum" value={{ sub_name }}>
    <input type="hidden" name="csrf_token" value={{ session.csrf_token }}>
    {% if not subbed %}
    <button>Subscribe</button>
    {% else %}
    <button>Unsubscribe</button>
    {% endif %}
</form>
{% for item in contents %}
<br>
{% if item.link_id %}
    {{ like(item.link_id, "", "") }}
    {{ link(item.link_id, item.url, item.title, item.count_comments, item.count_likes) }}
{% else %}
    {{ like("", item.post_id, "")}}
    {{ post(item.post_id, item.title, item.count_comments, item.count_likes)}}
{% endif %}
{% endfor %}
{% endblock %}